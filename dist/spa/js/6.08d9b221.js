(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"56c8":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fit"},[a("progressBar",{directives:[{name:"show",rawName:"v-show",value:e.showProgressBar,expression:"showProgressBar"}]}),a("spinner",{directives:[{name:"show",rawName:"v-show",value:e.showProgressBar,expression:"showProgressBar"}]}),a("adminSearchUser"),Object.keys(e.searchResultsPerPage).length?a("adminSearchResults"):e._e(),!Object.keys(e.searchResultsPerPage).length&&e.searchPerformed?a("noSearchResult"):e._e(),a("div",{staticClass:"q-mt-sm flex flex-center"},[e.totalPages>0?a("q-pagination",{attrs:{max:e.totalPages,color:"secondary"},on:{click:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}):e._e()],1)],1)},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("9523")),o=a.n(n),i=a("2f62"),c=a("7b33");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={mixins:[c["a"]],computed:u(u({},Object(i["e"])("admin",["searchResults","searchResultsPerPage","showProgressBar","searchPerformed","totalPages"])),{},{page:{get:function(){return this.$store.state.admin.page},set:function(e){this.setPage(e)}}}),methods:u(u(u({},Object(i["b"])("admin",["updatePage"])),Object(i["d"])("admin",["setPage"])),{},{changePage:function(e){this.updatePage(this.page)}}),components:{adminSearchUser:a("ccc5").default,adminSearchResults:a("c967").default,noSearchResult:a("bed5").default,progressBar:a("5c84").default,spinner:a("375d").default}},d=m,h=a("2877"),p=Object(h["a"])(d,r,s,!1,null,"70b0ff40",null);t["default"]=p.exports},7307:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("adminApproval")],1)},s=[],n=a("1278"),o={mixins:[n["a"]],components:{adminApproval:a("56c8").default},beforeMount:function(){this.checkUserLoggedIn("admin")}},i=o,c=a("2877"),l=Object(c["a"])(i,r,s,!1,null,"4beafc42",null);t["default"]=l.exports},c967:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-mt-md"},[a("q-card",[a("q-banner",{staticClass:"bg-dark text-secondary",attrs:{"inline-actions":"",rounded:"",dense:""},scopedSlots:e._u([{key:"action",fn:function(){return[a("q-select",{attrs:{dense:"","options-dense":"",borderless:"",options:e.sortByOptions,"option-value":"id","option-label":"value",label:"Sort By"},on:{input:e.changeSort},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fas fa-sort-amount-up-alt"}})]},proxy:!0}]),model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}})]},proxy:!0}])},[e._v("\n      Results :\n      "),a("i",[e._v("\n        You have "),a("b",[e._v(e._s(e.searchResults.length))]),e._v(" matches\n      ")])]),e._l(e.searchResultsPerPage,(function(t,r){return a("q-list",{key:r,attrs:{padding:""}},[a("div",{staticClass:"q-ma-sm row justify-evenly"},[a("div",{staticClass:"col-4"},[a("search-results-photo-slide",{attrs:{profileID:t.id,photos:e.photosAndProof(t),gender:t.gender}})],1),a("q-item",{staticClass:"col-8 text-capitalize"},[a("q-item-section",[a("q-item-label",[a("div",{staticClass:"text-h6"},[e._v("\n                "+e._s(t.firstName)+" "+e._s(t.lastName)+"\n              ")])]),a("q-item-label",[a("u",[e._v("Profile ID")]),e._v("\n              :\n              "+e._s(t.userDetailsId)),a("i",[e._v(" (Email : "+e._s(t.email)+" )")])]),a("q-item-label",[a("u",[e._v("Date of Birth")]),e._v("\n              :\n              "+e._s(e.removeTimeStamp(t.dateOfBirth))+" "),a("i",[e._v(" (Age : "+e._s(e.computeAge(t.dateOfBirth))+" )")])]),a("q-item-label",[a("u",[e._v("Location")]),e._v("\n                      :\n                      "+e._s(t.city)+", "+e._s(t.state)+",\n                      "+e._s(t.country.name)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Address")]),e._v("\n                      :\n                      "+e._s(t.residentialAddress)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Current Status")]),e._v("\n                      :\n                      "),a("b",[e._v(e._s(t.status.name)+" ")]),a("i",[e._v("(Approval Date : "+e._s(t.approvalDate)+")")])]),a("q-item-label",[a("u",[e._v("Previous Correction Comments")]),e._v("\n                      :\n                      "),a("i",[e._v(e._s(t.correctionComments))])]),a("q-item-label",[e._l(e.list.profileStatusOptions,(function(r){return[a("q-radio",{attrs:{val:r.id,label:r.name},model:{value:e.profileStatus[t.userDetailsId],callback:function(a){e.$set(e.profileStatus,t.userDetailsId,a)},expression:"profileStatus[searchItem.userDetailsId]"}})]}))],2),a("q-item-label",[3===e.profileStatus[t.userDetailsId]?a("q-input",{attrs:{label:"Correction Comments",outlined:"",autogrow:"",maxlength:e.correctionCommentsMax,rules:[function(a){return e.checkCorrectionCommentsLength(a,t.correctionComments)||e.correctionErrorMessage}]},model:{value:e.correctionComments[t.userDetailsId],callback:function(a){e.$set(e.correctionComments,t.userDetailsId,a)},expression:"correctionComments[searchItem.userDetailsId]"}}):e._e(),a("q-btn",{attrs:{color:"primary",label:"Change Status"},on:{click:function(a){return e.changeStatus(t)}}})],1),a("q-expansion-item",{attrs:{"switch-toggle-side":"","expand-separator":"",caption:"Click for more details",dense:"","dense-toggle":""}},[a("q-card",[a("q-card-section",[a("q-item-section",[a("q-item-label",[a("u",[e._v("Marital Status")]),e._v("\n                      :\n                      "+e._s(t.maritalStatus.name)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Father Name")]),e._v("\n                      :\n                      "+e._s(t.fatherName)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Gotra")]),e._v("\n                      :\n                      "+e._s(t.gotra.name)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Original Surname")]),e._v("\n                      :\n                      "+e._s(t.originalSurname)+"\n                    ")]),a("q-item-label",[a("u",[e._v("\n                        About\n                        "+e._s(t.firstName)+"\n                      ")]),e._v("\n                      :\n                      "+e._s(t.aboutYourself)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Primary Contact")]),e._v("\n                      :\n                      "+e._s(t.primaryContact)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Alternate Contact")]),e._v("\n                      :\n                      "+e._s(t.alternateContact)+"\n                    ")]),a("q-item-label",[a("u",[e._v("Last Login")]),e._v("\n                      :\n                      "+e._s(e.hasBlank(t.lastLogin))+"\n                    ")])],1)],1)],1)],1)],1)],1)],1),a("q-separator",{attrs:{color:"secondary",inset:""}})],1)}))],2)],1)},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("448a")),o=a.n(n),i=(a("7f7f"),a("9523")),c=a.n(i),l=a("bc3a"),u=a.n(l),m=a("2f62"),d=a("4cea"),h=a("1278"),p=a("f2f9"),f=a("dd50");a("436b");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={mixins:[d["a"],h["a"],p["a"]],components:{"search-results-photo-slide":a("41e0").default},data:function(){return{profileStatus:[],correctionComments:[],correctionCommentsMax:f["d"],correctionErrorMessage:"Max length of Correction Commments has reached"}},computed:v({},Object(m["e"])("admin",["searchResultsPerPage","searchResults","page","list"])),methods:v(v(v({},Object(m["d"])("admin",["setSearchItemParameter","setSearchResults","setShowProgressBar"])),Object(m["b"])("admin",["updatePage"])),{},{changeStatus:function(e){var t,a,r,s=this,n=e.userDetailsId,o=this.profileStatus[n],i={status:{id:o}},c=!1;3===o&&(t=this.correctionComments[n],a=(new Date).toDateString(),r="",this.hasValue(e.correctionComments)&&(r=e.correctionComments),c=!this.checkCorrectionCommentsLength(t,r)),c?this.showMessageDialog(this.correctionErrorMessage):(this.setShowProgressBar(!0),3===o&&this.hasValue(t)&&(i["correction_comments"]=r+a+" : "+t+"; \n "),u.a.put("https://thechintan123.pythonanywhere.com/api/admin-update/"+n,i).then((function(t){var a=t.data;s.setSearchItemParameter({item:e,key:"status",value:a.status}),3===o?s.setSearchItemParameter({item:e,key:"correctionComments",value:a.correction_comments}):2===o&&s.setSearchItemParameter({item:e,key:"approvalDate",value:a.approval_date}),s.$q.notify({type:"positive",message:"Profile status of "+a.first_name+" is updated to "+a.status.name}),s.setShowProgressBar(!1)})).catch((function(e){s.showErrorDialog(e),s.setShowProgressBar(!1)})))},photosAndProof:function(e){var t=[];return t.push(e.uploadPhotos),t.push(e.uploadProof),t},changeSort:function(e){var t=[];t=o()(this.searchResults),"lastLogin"===e.key?t.sort(this.sortDate(e.key,e.order)):t.sort(this.sortList(e.key,e.order)),this.setSearchResults(t),this.updatePage(this.page)},checkCorrectionCommentsLength:function(e,t){var a=0;this.hasValue(e)&&(a=e.length);var r=0;return this.hasValue(t)&&(r=t.length),this.correctionCommentsMax>r+a}})},y=g,P=a("2877"),_=Object(P["a"])(y,r,s,!1,null,null,null);t["default"]=_.exports},ccc5:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fit column"},[a("q-card",[a("q-form",{ref:"searchUserForm",attrs:{greedy:""}},[a("q-expansion-item",{attrs:{label:"Search","header-class":"bg-grey-3","expand-icon-class":"text-primary"},scopedSlots:e._u([{key:"header",fn:function(){return[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{size:"lg",color:"primary",name:"search"}})],1),a("q-item-section",[e._v("\n            Search User\n        ")])]},proxy:!0}]),model:{value:e.expand,callback:function(t){e.expand=t},expression:"expand"}},[a("q-card-section",[a("q-input",{attrs:{outlined:"",tabindex:"1",label:"Search by Email (Login ID)",type:"email",dense:"",clearable:"",maxlength:"50"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{tabindex:"2",outlined:"",label:"Search by First Name",dense:"",clearable:"",maxlength:"50"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{tabindex:"3",outlined:"",label:"Search by Last Name",dense:"",clearable:"",maxlength:"50"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{tabindex:"4",outlined:"",label:"Search by Profile ID",type:"number",dense:"",clearable:"",maxlength:"50"},model:{value:e.userDetailsId,callback:function(t){e.userDetailsId=t},expression:"userDetailsId"}})],1),a("div",{staticClass:"col"},[a("q-select",{attrs:{outlined:"",tabindex:"5","option-value":"id","option-label":"name",options:e.genderOptions,dense:"","options-dense":"",clearable:"",label:"Search by Gender"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}})],1)]),a("div",{staticClass:"row"},[e._l(this.list.profileStatusOptions,(function(t){return[a("q-checkbox",{attrs:{label:t.name,val:t.id},model:{value:e.profileStatus,callback:function(t){e.profileStatus=t},expression:"profileStatus"}})]}))],2),a("div",{staticClass:"row"},[a("q-btn",{attrs:{color:"primary",type:"reset",flat:"",label:"Reset"}}),a("q-space"),a("q-btn",{attrs:{color:"primary",label:"Search"},on:{click:e.submitSearchUser}})],1)],1)],1)],1)],1)],1)},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("a34a")),o=a.n(n),i=(a("96cf"),a("c973")),c=a.n(i),l=a("9523"),u=a.n(l),m=a("bc3a"),d=a.n(m),h=a("2f62"),p=a("7b33"),f=a("1278"),b=a("e787"),v=a("4cea");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){u()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={mixins:[p["a"],f["a"],b["a"],v["a"]],mounted:function(){var e=this;d.a.get("https://thechintan123.pythonanywhere.com/api/lists").then((function(t){e.genderOptions=t.data.gender;var a=t.data.profile_status;e.setList({key:"profileStatusOptions",value:a})})).catch((function(t){e.showErrorDialog(t)}))},data:function(){return{genderOptions:[]}},components:{},methods:y(y(y({},Object(h["b"])("admin",["saveSearchResults"])),Object(h["d"])("admin",["setList","setSearchParamsIndividual","setExpand","setShowProgressBar"])),{},{submitSearchUser:function(){var e=this;return c()(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setShowProgressBar(!0),t.next=3,e.$refs.searchUserForm.validate().then((function(t){if(t){var a={};for(var r in e.searchParams)a[e.camelToSnake(r)]=e.searchParams[r];e.fetchSearch(a)}else{var s="Error in Search Form. Please correct it before proceeding.";e.showErrorDialog(s),e.setShowProgressBar(!1)}}));case 3:case"end":return t.stop()}}),t)})))()},fetchSearch:function(e){var t=this;return d.a.post("https://thechintan123.pythonanywhere.com/api/search-by-admin",e).then((function(e){var a=e.data;t.saveSearchResults(a),t.$q.notify({type:"positive",message:"Successfully search. Matching results are "+a.length})})).catch((function(e){console.log("fetchSearch",e),t.showErrorDialog(e)}))}}),computed:y(y({},Object(h["e"])("admin",["searchParams","list","expand"])),{},{expand:{get:function(){return this.$store.state.admin.expand},set:function(e){this.setExpand(e)}},email:{get:function(){return this.searchParams.email},set:function(e){this.setSearchParamsIndividual({key:"email",value:e})}},firstName:{get:function(){return this.searchParams.firstName},set:function(e){this.setSearchParamsIndividual({key:"firstName",value:e})}},lastName:{get:function(){return this.searchParams.lastName},set:function(e){this.setSearchParamsIndividual({key:"lastName",value:e})}},userDetailsId:{get:function(){return this.searchParams.userDetailsId},set:function(e){this.setSearchParamsIndividual({key:"userDetailsId",value:e})}},gender:{get:function(){return this.searchParams.gender},set:function(e){this.setSearchParamsIndividual({key:"gender",value:e})}},profileStatus:{get:function(){return this.searchParams.profileStatus},set:function(e){this.setSearchParamsIndividual({key:"profileStatus",value:e})}}})},_=P,S=a("2877"),O=Object(S["a"])(_,r,s,!1,null,null,null);t["default"]=O.exports}}]);